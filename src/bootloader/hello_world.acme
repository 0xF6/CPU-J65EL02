.alias iobase   $8800
.alias iostatus [iobase + 1]
.alias iocmd    [iobase + 2]
.alias ioctrl   [iobase + 3]

.org $0300

start:  cli
        lda #$0b
        sta iocmd 
        lda #$1a
        sta ioctrl     ; 0 stop bits, 8 bit word, 2400 baud

init:   ldx #$00      

loop:   lda iostatus
        and #$10    
        beq loop      
        lda string,x 
        beq init      
        sta iobase 

        inx      
        jmp loop 

string: .byte "Hello, 6502 world! ", 0